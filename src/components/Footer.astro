---
import { SOCIAL_LINKS } from '@/consts'
import SocialIcons from './SocialIcons.astro'

// 言語を検出してRSSリンクを動的に設定
const isEn = Astro.url.pathname.startsWith('/en/')
const socialLinks = SOCIAL_LINKS.map(link => {
  if (link.label === 'RSS') {
    return {
      ...link,
      href: isEn ? '/en/rss.xml' : '/rss.xml'
    }
  }
  return link
})
---

<footer class="py-4">
  <div
    class="mx-auto flex max-w-3xl flex-col items-center justify-center gap-y-2 px-4 sm:flex-row sm:justify-between"
  >
    <div class="flex flex-wrap items-center justify-center gap-x-2 text-center">
      <span class="text-muted-foreground text-sm">
        &copy; audiomatome.com
      </span>
    </div>
    <SocialIcons links={socialLinks} />
  </div>
</footer>
