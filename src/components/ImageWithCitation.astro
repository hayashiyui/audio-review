---
import { Picture } from 'astro:assets';

export interface Props {
  imagePath: any;
  alt?: string;
  sourceTitle: string;
  sourceUrl: string;
}

const { imagePath, alt, sourceTitle, sourceUrl } = Astro.props;
const altText = alt || sourceTitle;
---

<div style="display: inline-block; width: 100%;">
  <a href={imagePath.src} target="_blank" rel="noopener noreferrer">
    <Picture src={imagePath} formats={['avif', 'webp']} alt={altText} decoding="async" loading="lazy" />
  </a>
  <p class="text-right text-xs text-gray-600 dark:text-gray-400 -mt-5 mr-2 leading-tight">
    <a href={sourceUrl} target="_blank" rel="noopener noreferrer" class="text-inherit no-underline hover:underline">
      {sourceTitle}
    </a>
  </p>
</div>